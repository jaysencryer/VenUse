{% extends "VenUse/layout.html" %}

{% block body %}
    <div id="add_venue_form" class="manage add_venue {{ add_venue_form }}">
        <h2>New Venue</h2>
        <form id="venue_form" action='/add_venue' method="post"> 
            {% csrf_token %}
            <div class="ven-form">
                Name:{{ven_form.name}}
            </div>
            <div class="ven-form">
                Url:{{ven_form.url}}
            </div>
            <div class="ven-form">
                Description:{{ven_form.description}}
            </div>
            <input type="submit" value="Register Venue"/>
        </form>
    </div>
    <div id="add_room_form" class="manage add_room {{ add_room_form }}">
        
        <h2>New Room</h2>
        <form id="room_form" >
            <div class="column">
                {% csrf_token %}
                <div class="ven-form">
                    Name:{{room_form.name}}
                </div>
                <div class="ven-form">
                    Description:{{room_form.description}}
                </div>
                <div class="ven-form">
                    Capacity:{{room_form.capacity}}
                </div>
            </div>
            <div class="column">
                <div class="ven-form">
                    Availability
                    <div id="avail_form">
                        <!-- JavaScript rendered availability form inserted here -->
                        <!--{% include 'VenUse/availability_form.html' %}-->
                    </div>

                </div>
            </div>
            <input type="submit" id="add_room_submit" class="venue_detail_add_btn" name="add_room" value="Add Room"/>
        </form>
    </div>
    {% if venues %}
    <div class="manage">
        <div>
        {% for venue in venues %}
        <section class="venue_pod">

            <h3><a href="{% url 'show_venue' venue.url %}">{{venue.name}}</a></h3> 
            {{venue.description}}
            <button id="{{venue.id}}" class="edit_venue" value="edit">edit</button>
        </section>
        {% endfor %}
        </div>
        <div>
            <button id="add_venue" value="add">Add another Venue</button>
        </div>
    </div>
    {% endif %}
    <div id="venue_detail" class="manage hide">
        <!-- generated by JavaScript -->
    </div>
{% endblock %}